/**
 * Toggles text to be shown when a user hits 'Show More' and
 * hides text when user hits 'Show Less'
 *
 * @copyright  2020 UC Regents, 2023 Giorgio Consorti
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
window.self==window.top?window.addEventListener("message",(event=>{const meetingEl=document.getElementById("meetingSDKElement");"zoomLeave"===event.data.message?"zoomLeave"in event.data&&("debugging"in event.data&&event.data.debugging&&"userishost"in event.data&&event.data.userishost?meetingEl&&meetingEl.parentNode&&(meetingEl.parentNode.classList.remove(...meetingEl.parentNode.classList),meetingEl.parentNode.innerHTML=`<a href="${event.data.zoomLeave}">${event.data.zoomLeave}</a>`):window.location.replace(event.data.zoomLeave)):"zoomInitDone"===event.data.message?meetingEl&&("debugging"in event.data&&event.data.debugging||meetingEl.removeAttribute("onload")):"zoomJoined"===event.data.message&&meetingEl&&meetingEl.parentNode.classList.add("embed-responsive","embed-responsive-16by9","joined")}),!1):window.addEventListener("message",(event=>{"init"===event.data.message&&((zoomObj,userObj,zoomMeetingSdkWebVersion,debugging)=>{const debug=debugging||!1,log=function(){if(debug){const LOG_PREFIX=()=>"**** LYNX **** "+(new Date).toLocaleString()+": ";var args=Array.from(arguments);args.unshift(LOG_PREFIX()),window.console.log.apply(window.console,args)}},error=function(){if(debug){const LOG_PREFIX=()=>"**** LYNX **** "+(new Date).toLocaleString()+": ";var args=Array.from(arguments);args.unshift(LOG_PREFIX()),window.console.error.apply(window.console,args)}},initCallBack=function(isError,response){window.parent.postMessage({message:"zoomInitDone",userishost:zoomObj.userishost,debugging:debug}),isError?error("intResponse is ",response):(log("intResponse is ",response),window.ZoomMtg.join({signature:zoomObj.signature,sdkKey:zoomObj.sdkKey,meetingNumber:zoomObj.meeting_id,userName:userObj.fullname,userEmail:userObj.email,passWord:zoomObj.password,tk:zoomObj.tk,zak:zoomObj.zak,success:function(joinResp){zoomObj.userishost||(Array.from(document.getElementsByClassName("meeting-info-container--left-side")??[]).forEach((el=>{Array.from(el.childNodes).filter((child=>!child.classList.contains("recording-indication__recording-container"))).forEach((el=>{el.style.display="none"}))})),Array.from(document.querySelectorAll('[feature-type="newLTT"]')??[]).forEach((el=>{el.remove()}))),window.parent.postMessage({message:"zoomJoined",userishost:zoomObj.userishost,debugging:debug}),addZoomSessionKeys(),log("joinResp is ",joinResp)},error:function(joinResp){error("joinResp is ",joinResp)}}))},addZoomSessionKeys=()=>{const addedKeys=getNewSessionKeys(sessionKeys);if(log("sessionStorage items added by zoom",addedKeys),addedKeys.length){const zoomKeys=(window.sessionStorage.getItem("zoomKeys")??"").split(",").filter((el=>el.length>0));addedKeys.forEach((key=>{zoomKeys.includes(key)||zoomKeys.push(key)})),zoomKeys.length>0?(log("storing zoomKeys",zoomKeys),window.sessionStorage.setItem("zoomKeys",zoomKeys.join(","))):(log("removing zoomKeys since it was an empty array"),window.sessionStorage.removeItem("zoomKeys"))}},getSessionKeys=()=>{let retval=[];return Object.keys(window.sessionStorage).forEach((key=>retval.push(key))),retval},getNewSessionKeys=startArr=>getSessionKeys().filter((x=>!startArr.includes(x)));log("**********************************************");const sessionKeys=getSessionKeys();let language=userObj.lang||"en-US";var inputStr,textarea;-1===language.indexOf("-")&&(language=language.toLowerCase()+"-"+("en"!==language?language.toUpperCase():"US")),window.ZoomMtg.setZoomJSLib(`https://source.zoom.us/${zoomMeetingSdkWebVersion}/lib`,"/av"),window.ZoomMtg.preLoadWasm(),"function"==typeof window.ZoomMtg.prepareWebSDK?window.ZoomMtg.prepareWebSDK():window.ZoomMtg.prepareJssdk(),window.ZoomMtg.i18n.load(language),window.ZoomMtg.i18n.reload(language),document.getElementById("zmmtg-root").style.display="block",log("init meeting with zoom object",zoomObj),log("init meeting with user object",userObj),log("Meeting SDK",window.ZoomMtg.getWebSDKVersion()),log("checkFeatureRequirements",window.ZoomMtg.checkFeatureRequirements()),window.ZoomMtg.init({leaveUrl:(inputStr=zoomObj.leaveUrl,textarea=document.createElement("textarea"),textarea.innerHTML=inputStr,textarea.value),debug:debug,disableCORP:!window.crossOriginIsolated,enableHD:!0,enableFullHD:!0,isSupportAV:!0,showMeetingHeader:zoomObj.userishost,videoHeader:zoomObj.userishost,isSupportBreakout:zoomObj.userishost,isSupportCC:!1,isSupportChat:!0,isSupportNonverbal:zoomObj.userishost,isSupportPolling:zoomObj.userishost,isSupportQA:zoomObj.userishost,disableCallOut:!zoomObj.userishost,disableInvite:!zoomObj.userishost,disableRecord:!zoomObj.userishost,disableReport:!zoomObj.userishost,screenShare:zoomObj.userishost,meetingInfo:zoomObj.userishost?["topic","host","participant","mn","dc","pwd","invite","enctype"]:[],success:function(initResp){initCallBack(!1,initResp)},error:initResp=>{initCallBack(!0,initResp)}}),log("**********************************************")})(event.data.zoom,event.data.user,event.data.zoomSdkVersion,event.data.debugging)}),!1);

//# sourceMappingURL=webmeeting.min.js.map