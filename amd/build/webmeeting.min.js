/**
 * Toggles text to be shown when a user hits 'Show More' and
 * hides text when user hits 'Show Less'
 *
 * @copyright  2020 UC Regents, 2023 Giorgio Consorti
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
window.addEventListener("message",(event=>{window.self!==window.top?"init"===event.data.message&&((zoomObj,userObj,zoomMeetingSdkWebVersion,debugging)=>{const debug=debugging||!1,log=function(){if(debug){const LOG_PREFIX=()=>"**** LYNX **** "+(new Date).toLocaleString()+": ";var args=Array.from(arguments);args.unshift(LOG_PREFIX()),window.console.log.apply(window.console,args)}},error=function(){if(debug){const LOG_PREFIX=()=>"**** LYNX **** "+(new Date).toLocaleString()+": ";var args=Array.from(arguments);args.unshift(LOG_PREFIX()),window.console.error.apply(window.console,args)}},addZoomSessionKeys=()=>{const addedKeys=getNewSessionKeys(sessionKeys);if(log("sessionStorage items added by zoom",addedKeys),addedKeys.length){var _window$sessionStorag;const zoomKeys=(null!==(_window$sessionStorag=window.sessionStorage.getItem("zoomKeys"))&&void 0!==_window$sessionStorag?_window$sessionStorag:"").split(",").filter((el=>el.length>0));addedKeys.forEach((key=>{zoomKeys.includes(key)||zoomKeys.push(key)})),zoomKeys.length>0?(log("storing zoomKeys",zoomKeys),window.sessionStorage.setItem("zoomKeys",zoomKeys.join(","))):(log("removing zoomKeys since it was an empty array"),window.sessionStorage.removeItem("zoomKeys"))}},getSessionKeys=()=>{let retval=[];return Object.keys(window.sessionStorage).forEach((key=>retval.push(key))),retval},getNewSessionKeys=startArr=>getSessionKeys().filter((x=>!startArr.includes(x)));log("**********************************************");const sessionKeys=getSessionKeys();let language=userObj.lang||"en-US";var inputStr,textarea;-1===language.indexOf("-")&&(language=language.toLowerCase()+"-"+("en"!==language?language.toUpperCase():"US")),window.ZoomMtg.setZoomJSLib("https://source.zoom.us/".concat(zoomMeetingSdkWebVersion,"/lib"),"/av"),window.ZoomMtg.preLoadWasm(),"function"==typeof window.ZoomMtg.prepareWebSDK?window.ZoomMtg.prepareWebSDK():window.ZoomMtg.prepareJssdk(),window.ZoomMtg.i18n.load(language),window.ZoomMtg.i18n.reload(language),document.getElementById("zmmtg-root").style.display="block",log("init meeting with zoom object",zoomObj),log("init meeting with user object",userObj),log("Meeting SDK",window.ZoomMtg.getWebSDKVersion()),log("checkFeatureRequirements",window.ZoomMtg.checkFeatureRequirements()),window.ZoomMtg.init({leaveUrl:(inputStr=zoomObj.leaveUrl,textarea=document.createElement("textarea"),textarea.innerHTML=inputStr,textarea.value),debug:debug,disableCORP:!window.crossOriginIsolated,enableHD:!0,enableFullHD:!0,isSupportAV:!0,showMeetingHeader:zoomObj.userishost,videoHeader:zoomObj.userishost,isSupportBreakout:!1,isSupportCC:zoomObj.userishost,isSupportChat:zoomObj.userishost,isSupportNonverbal:zoomObj.userishost,isSupportPolling:zoomObj.userishost,isSupportQA:zoomObj.userishost,disableCallOut:!zoomObj.userishost,disableInvite:!zoomObj.userishost,disableRecord:!zoomObj.userishost,disableReport:!zoomObj.userishost,meetingInfo:zoomObj.userishost?["topic","host","participant","mn","dc","pwd","invite","enctype"]:[],success:function(initResp){log("intResponse is ",initResp),window.ZoomMtg.join({signature:zoomObj.signature,sdkKey:zoomObj.sdkKey,meetingNumber:zoomObj.meeting_id,userName:userObj.fullname,userEmail:userObj.email,passWord:zoomObj.password,zak:zoomObj.zak,success:function(joinResp){var _document$getElements;zoomObj.userishost||Array.from(null!==(_document$getElements=document.getElementsByClassName("meeting-info-container--left-side"))&&void 0!==_document$getElements?_document$getElements:[]).forEach((el=>{Array.from(el.childNodes).filter((child=>!child.classList.contains("recording-indication__recording-container"))).forEach((el=>{el.style.display="none"}))})),addZoomSessionKeys(),log("joinResp is ",joinResp)},error:function(joinResp){error("joinResp is ",joinResp)}})},error:initResp=>{error("intResponse is ",initResp)}}),log("**********************************************")})(event.data.zoom,event.data.user,event.data.zoomSdkVersion,event.data.debugging):"zoomLeave"===event.data.message&&"redirect"in event.data&&window.location.replace(event.data.redirect)}),!1);

//# sourceMappingURL=webmeeting.min.js.map